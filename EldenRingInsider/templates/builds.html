<!-- EldenRingInsider/templates/builds.html -->
<!DOCTYPE html>
<html lang="en">
 {% load static build_extras %}
 {% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Builds - Elden Ring Insider</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">




</head>

<!-- Navigation Bar -->
<nav class="navbar">
    <div class="logo">EldenRingInsider</div>
    <ul class="nav-links">
        <li><a href="{% url 'item_list' %}">Items</a></li>
        <li><a href="#">Katanas</a></li>
        <li><a href="#">Swords</a></li>
        <li><a href="#">Staffs</a></li>
        <li><a href="#">Ash of Wars</a></li>
        <li><a href="#">Spells</a></li>
        <li><a href="{% url 'builds' %}">Builds</a></li>


    </ul>
    <!--<input type="text" placeholder="Search builds..." class="search-bar"> -->
      <form method="get" action="{% url 'builds' %}">
    <input
        type="text"
        name="q"
        placeholder="Search builds..."
        class="search-bar"
        value="{{ query|default:'' }}"
    >
    <button type="submit" style="display:none;">Search</button>
</form>
</nav>







<body>

 <h1>Build Guides</h1>
<p style="text-align: center;">Optimised setups based on real game meta and stat scaling.</p>


{% load static %}
{% if builds %}
  {% for build in builds %}
    <div class="build-equipment-container">
      <div class="build-header">
        <h2>{{ build.name }}</h2>
        <p>{{ build.description }}</p>
      </div>
      <div class="equipment-grid">
        {% for slot_code, slot_label in slot_order %}
          {% with slot=build.equipment_slots.all|get_slot:slot_code %}
            <div class="equipment-slot">
              <div class="slot-label">{{ slot_label }}</div>
              {% if slot and slot.item %}
                <a href="{% url 'item_detail' slot.item.id %}">
                  <img src="{{ slot.item.image_url|default:'/static/placeholder.jpg' }}" alt="{{ slot.item.name }}" class="slot-img">
                </a>
                <div class="slot-tooltip">
                  <strong>{{ slot.item.name }}</strong><br>
                  {{ slot.item.description|truncatechars:60 }}
                </div>
              {% else %}
                <img src="{% static 'placeholder.jpg' %}" alt="Empty" class="slot-img empty">
              {% endif %}
            </div>
          {% endwith %}
        {% endfor %}
      </div>
    </div>
  {% endfor %}
{% else %}
  <p style="text-align:center;">No builds found.</p>
{% endif %}







</body>
</html>